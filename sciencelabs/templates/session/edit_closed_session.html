{% extends 'session/base.html' %}

{% block header %}
    <div class="header card">
        <div class="card-body">
            {# TODO MAKE SURE TO UPDATE PASSSING INFO IN#}
            <p class="card-text">Edit ***SESSION*** Information</p>
        </div>
    </div>
{% endblock %}

{% block body_content %}
    <form class="edit-session-form">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="session-name">Name of Session</label>
                <input type="text" class="form-control" id="session-name">
            </div>
            <div class="form-group col-md-3">
                <label for="room-number">Room Number</label>
                <input type="text" class="form-control" id="room-number">
            </div>
            <div class="form-group col-md-3">
                <label for="">Semester</label>
                <select class="custom-select">
                    {% for semester in app_settings['SEMESTER_OPTIONS'] %}
                        <option value="{{ semester }}">{{ semester }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="session-date">Date (click to select)</label>
                <input type="text" class="form-control" id="session-date">
            </div>
            <div class="form-group col-md-4">
                <label for="scheduled-start">Scheduled Start Time</label>
                <input type="time" class="form-control" id="scheduled-start">
            </div>
            <div class="form-group col-md-4">
                <label for="scheduled-end">Scheduled End Time</label>
                <input type="time" class="form-control" id="scheduled-end">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="choose-leads">Lead Tutors</label>
                <input type="text" class="form-control" id="choose-leads" placeholder="Choose lead tutors...">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="choose-tutors">Tutors</label>
                <input type="text" class="form-control" id="choose-tutors" placeholder="Choose tutors...">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="actual-start">Actual Start Time</label>
                <input type="time" class="form-control" id="actual-start">
            </div>
            <div class="form-group col-md-6">
                <label for="actual-end">Actual End Time</label>
                <input type="time" class="form-control" id="actual-end">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <button type="button" class="btn btn-primary" id="all-courses">Select All Courses</button>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                {% for id, name in app_settings['COURSE_OPTIONS'].items() %}
                    <div class="custom-control custom-checkbox" style="display:inline-block;">
                        <input type="checkbox" class="custom-control-input" id="{{ id }}">
                        <label class="custom-control-label" for="{{ id }}">{{ id }} ({{ name }})</label>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="comments">Comments</label>
                <textarea class="form-control" id="comments"></textarea>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <label for="anon-students">Anonymous Students</label>
                <input type="text" class="form-control" id="anon-students" value="0">
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-12">
                <button type="button" class="btn btn-primary" id="save-session">Save</button>
            </div>
        </div>
    </form>
    <div class="header card" style="margin-bottom:10px;">
        <div class="card-body">
            <p class="card-text">Edit Student Attendance</p>
        </div>
    </div>
    <button id="student-views" type="button" class="edit btn btn-primary">View by Course</button>
    <table id="edit-student-table" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <th>Name</th>
            <th>Time In</th>
            <th>Time Out</th>
            <th>Courses</th>
            <th></th>
        </thead>
        <tbody>
            {# TODO #}
        </tbody>
    </table>
    <button type="button" class="edit btn btn-primary">Add a Student</button>
    <button type="button" class="btn btn-primary">Add Anonymous Student</button>
    <div class="header card" style="margin-top:10px;margin-bottom:10px;">
        <div class="card-body">
            <p class="card-text">Edit Tutor Attendance</p>
        </div>
    </div>
    <table id="edit-tutor-table" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <th>Name</th>
            <th>Time In</th>
            <th>Time Out</th>
            <th>Lead</th>
            <th></th>
        </thead>
        <tbody>
            {# TODO #}
        </tbody>
    </table>
    <button type="button" class="edit btn btn-primary">Add a Tutor</button>

    <script>
        $(document).ready( function () {
            var student_table = $('#edit-student-table').DataTable( {
                "aaSorting": [],
                "bPaginate": false,
                "bLengthChange": false,
            });
            var tutor_table = $('#edit-tutor-table').DataTable( {
                "aaSorting": [],
                "bPaginate": false,
                "bLengthChange": false,
            });
        });
    </script>
{% endblock %}