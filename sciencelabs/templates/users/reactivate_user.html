{% extends 'users/base.html' %}

{% block header %}
    <div class="header card">
        <div class="card-body">
            <p class="card-text">Reactivate a User</p>
        </div>
    </div>
{% endblock %}

{% block body_content %}
    <div id="spinner" class="spinner">
        <img id="img-spinner" class="spinner-img" src="https://cdn1.bethel.edu/images/load.gif" alt="Loading"/>
    </div>
    <table id="table" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th data-toggle="tooltip" data-placement="top" title="User Last Name">Last</th>
                <th data-toggle="tooltip" data-placement="top" title="User First Name">First</th>
                <th data-toggle="tooltip" data-placement="top" title="User Email">Email</th>
                <th data-toggle="tooltip" data-placement="top" title="Deactivated At">Deactivated</th>
                <th data-toggle="tooltip" data-placement="top" title="Reactivate User">Reactivate User</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users_info %}
                <tr>
                    <td data-th="User Last Name">
                        {{ user.lastName }}
                    </td>
                    <td data-th="User First Name">
                        {{ user.firstName }}
                    </td>
                    <td data-th="User Email">
                        {{ user.email }}
                    </td>
                    <td data-th="Deactivated At">
                        {{ user.deletedAt }}
                    </td>
                    <td data-th="Activate User">
                        <a href="{{ url_for('UsersView:select_user_roles', username=user.username, first_name=user.firstName, last_name=user.lastName) }}"
                        class="btn btn-primary">Activate {{ user.username }}</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready( function () {
            $('#spinner').show();
            $.extend($.fn.dataTableExt.oStdClasses, {
                // give some foundation classes to our controls
                sLength: 'large-4 columns ',
                sFilter: 'large-12 columns ',
            });

            var table = $('#table').DataTable( {
                "aoColumns": [
                    { "orderSequence": [ "asc", "desc" ] },
                    { "orderSequence": [ "asc", "desc" ] },
                    { "orderSequence": [ "asc", "desc" ] },
                    { "orderSequence": [ "asc", "desc" ] },
                    { "orderSequence": [ null ], "searchable": false, "targets": 0 },
                ],
                "oLanguage": {
                    "sLengthMenu": "Limit: _MENU_",
                },
                "aLengthMenu": [[50, 100, -1], [50, 100, "All"]],
                "iDisplayLength": 100,
            });
            $('#spinner').hide();
        });
    </script>
{% endblock %}