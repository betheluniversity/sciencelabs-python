!function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(e){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){return n=e.defined&&e.defined("moment")?e("moment"):void 0,t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,a=window.setTimeout,s=function(e,t,i,a){n?e.addEventListener(t,i,!!a):e.attachEvent("on"+t,i)},o=function(e,t,i,a){n?e.removeEventListener(t,i,!!a):e.detachEvent("on"+t,i)},r=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},d=function(e,t){if(0==t.length)return!1;for(var n=e.getDay(),i=0;i<t.length;i++)if(t[i]==n)return!0;return!1},u=function(e){h(e)&&e.setHours(0,0,0,0)},c=function(e,t){var n=new Date(e.getTime()),i=new Date(t.getTime());return u(n),u(i),n.getTime()===i.getTime()},f=function(e,t,n){var i,a;for(i in t)(a=void 0!==e[i])&&"object"==typeof t[i]&&void 0===t[i].nodeName?h(t[i])?n&&(e[i]=new Date(t[i].getTime())):l(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=f({},t[i],n):!n&&a||(e[i]=t[i]);return e},m=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},g={field:null,bound:void 0,position:"bottom left",format:null,defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,showTime:!1,showSeconds:!1,use24hour:!1,mainCalendar:"left",i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},disabledDaysOfWeek:[],disabledDates:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},p=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e,t,n,i,a,s,o){if(o)return'<td class="is-empty"></td>';var r=[];return s&&r.push("is-disabled"),a&&r.push("is-today"),i&&r.push("is-selected"),'<td data-day="'+e+'" class="'+r.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+n+'" data-pika-month="'+t+'" data-pika-day="'+e+'">'+e+"</button></td>"},D=function(e,t,n,i,a){var s,o,r,h,d,u=e._o,c=n===u.minYear,f=n===u.maxYear,m='<div class="pika-title">',g=!0,p=!0;for(r=[],s=0;s<12;s++)r.push('<option value="'+(n===a?s-t:12+s-t)+'"'+(s===i?" selected":"")+(c&&s<u.minMonth||f&&s>u.maxMonth?"disabled":"")+">"+u.i18n.months[s]+"</option>");for(h='<div class="pika-label">'+u.i18n.months[i]+'<select class="pika-select pika-select-month">'+r.join("")+"</select></div>",l(u.yearRange)?(s=u.yearRange[0],o=u.yearRange[1]+1):(s=n-u.yearRange,o=1+n+u.yearRange),r=[];s<o&&s<=u.maxYear;s++)s>=u.minYear&&r.push('<option value="'+s+'"'+(s===n?" selected":"")+">"+s+"</option>");return d='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year">'+r.join("")+"</select></div>",u.showMonthAfterYear?m+=d+h:m+=h+d,c&&(0===i||u.minMonth>=i)&&(g=!1),f&&(11===i||u.maxMonth<=i)&&(p=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),m+"</div>"},v=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+function(e){var t,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+p(e,t)+'">'+p(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"}(e)+("<tbody>"+t.join("")+"</tbody>")+"</table>"},y=function(e,t,n,i){for(var a='<td><select class="pika-select '+n+'">',s=0;s<e;s++)a+='<option value="'+s+'" '+(s==t?"selected":"")+">"+i(s)+"</option>";return a+="</select></td>"},b=function(o){var l=this,d=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t){if(!r(t,"is-disabled")){if(r(t,"pika-button")&&!r(t,"is-empty")){var n=new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"));return l._d&&d.showTime&&(n.setHours(l._d.getHours()),n.setMinutes(l._d.getMinutes())),l.setDate(n),void(d.bound&&a(function(){l.hide(),d.field&&d.field.blur()},100))}r(t,"pika-prev")?l.prevMonth():r(t,"pika-next")&&l.nextMonth()}if(r(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(r(t,"pika-select-month")?l.gotoMonth(t.value):r(t,"pika-select-year")?l.gotoYear(t.value):r(t,"pika-select-hour")?l.setTime(t.value):r(t,"pika-select-minute")?l.setTime(null,t.value):r(t,"pika-select-second")&&l.setTime(null,null,t.value))},l._onInputChange=function(n){var i;n.firedBy!==l&&(i=t?(i=e(d.field.value,d.format))&&i.isValid()?i.toDate():null:new Date(Date.parse(d.field.value)),l.setDate(h(i)?i:null),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){l._c||(l._b=a(function(){l.hide()},50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,i=t;if(t){!n&&r(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",l._onChange)));do{if(r(i,"pika-single"))return}while(i=i.parentNode);l._v&&t!==d.trigger&&l.hide()}},l.el=i.createElement("div"),l.el.className="pika-single"+(d.isRTL?" is-rtl":""),s(l.el,"mousedown",l._onMouseDown,!0),s(l.el,"change",l._onChange),d.field&&(d.bound?i.body.appendChild(l.el):d.field.parentNode.insertBefore(l.el,d.field.nextSibling),s(d.field,"change",l._onInputChange),d.defaultDate||(t&&d.field.value?d.defaultDate=e(d.field.value,d.format).toDate():d.defaultDate=new Date(Date.parse(d.field.value)),d.setDefaultDate=!0));var u=d.defaultDate;h(u)?d.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),d.bound?(this.hide(),l.el.className+=" is-bound",s(d.trigger,"click",l._onInputClick),s(d.trigger,"focus",l._onInputFocus),s(d.trigger,"blur",l._onInputBlur)):this.show()};return b.prototype={config:function(e){this._o||(this._o=f({},g,!0));var t=f(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disabledDaysOfWeek=t.disabledDaysOfWeek,t.disabledDates=t.disabledDates,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(t.showTime||u(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(t.showTime||u(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),l(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||g.yearRange,t.yearRange>100&&(t.yearRange=100);return null===t.format&&(t.format="YYYY-MM-DD",t.showTime&&(t.format+=" HH:mm:ss")),t},toString:function(n){return h(this._d)?t?e(this._d).format(n||this._o.format):this._o.showTime?this._d.toString():this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setTime:function(e,t,n){this._d||(this._d=new Date,this._d.setHours(0,0,0,0)),e&&this._d.setHours(e),t&&this._d.setMinutes(t),n&&this._d.setSeconds(n),this.setDate(this._d)},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),h(e)){var n,a,s,o,r=this._o.minDate,l=this._o.maxDate;h(r)&&e<r?e=r:h(l)&&e>l&&(e=l),this._d=new Date(e.getTime()),this._o.showTime&&!this._o.showSeconds?this._d.setSeconds(0):this._o.showTime||u(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),n=this._o.field,a="change",s={firedBy:this},i.createEvent?((o=i.createEvent("HTMLEvents")).initEvent(a,!0,!1),o=f(o,s),n.dispatchEvent(o)):i.createEventObject&&(o=i.createEventObject(),o=f(o,s),n.fireEvent("on"+a,o))),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(h(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),a=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=a<n.getTime()||i.getTime()<a}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=m(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=m({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t,n,i,s,o,r,l=this._o,h=l.minYear,d=l.maxYear,u=l.minMonth,c=l.maxMonth,f="";this._y<=h&&(this._y=h,!isNaN(u)&&this._m<u&&(this._m=u)),this._y>=d&&(this._y=d,!isNaN(c)&&this._m>c&&(this._m=c));for(var m=0;m<l.numberOfMonths;m++)f+='<div class="pika-lendar">'+D(this,m,this.calendars[m].year,this.calendars[m].month,this.calendars[0].year)+this.render(this.calendars[m].year,this.calendars[m].month)+"</div>";if(l.showTime&&(f+="<div>"+(t=this._d?this._d.getHours():0,n=this._d?this._d.getMinutes():0,i=this._d?this._d.getSeconds():0,s=l.use24hour,o=l.showSeconds,r='<table cellpadding="0" cellspacing="0" class="pika-time"><tbody><tr>'+y(24,t,"pika-select-hour",function(e){if(s)return e;var t=e%12+(e<12?" AM":" PM");return"0 AM"==t?"Midnight":"0 PM"==t?"Noon":t})+"<td>:</td>"+y(60,n,"pika-select-minute",function(e){return e<10?"0"+e:e}),o&&(r+="<td>:</td>"+y(60,i,"pika-select-second",function(e){return e<10?"0"+e:e})),r+"</tr></tbody></table>")+"</div>"),this.el.innerHTML=f,l.bound&&"hidden"!==l.field.type&&a(function(){l.trigger.focus()},1),"function"==typeof this._o.onDraw){var g=this;a(function(){g._o.onDraw.call(g)},0)}}},adjustPosition:function(){var e,t,n,a=this._o.trigger,s=a,o=this.el.offsetWidth,r=this.el.offsetHeight,l=window.innerWidth||i.documentElement.clientWidth,h=window.innerHeight||i.documentElement.clientHeight,d=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof a.getBoundingClientRect)e=(n=a.getBoundingClientRect()).left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=s.offsetLeft,t=s.offsetTop+s.offsetHeight;s=s.offsetParent;)e+=s.offsetLeft,t+=s.offsetTop;(e+o>l||this._o.position.indexOf("right")>-1&&e-o+a.offsetWidth>0)&&(e=e-o+a.offsetWidth),(t+r>h+d||this._o.position.indexOf("top")>-1&&t-r-a.offsetHeight>0)&&(t=t-r-a.offsetHeight),this.el.style.cssText=["position: absolute","left: "+e+"px","top: "+t+"px"].join(";")},render:function(e,t){var n,i=this._o,a=new Date,s=[31,(n=e,n%4==0&&n%100!=0||n%400==0?29:28),31,30,31,30,31,31,30,31,30,31][t],o=new Date(e,t,1).getDay(),r=[],l=[];i.showTime||u(a),i.firstDay>0&&(o-=i.firstDay)<0&&(o+=7);for(var f,m,g,p,D,y=s+o,b=y;b>7;)b-=7;y+=7-b;for(var w=0,M=0;w<y;w++){var k=new Date(e,t,w-o+1),T=i.minDate&&k<i.minDate||i.maxDate&&k>i.maxDate||d(k,i.disabledDaysOfWeek)||(m=k,g=i.disabledDates,void 0,void 0,p=("0"+m.getDate()).slice(-2),D=("0"+(m.getMonth()+1)).slice(-2)+"/"+p,$.inArray(D,g)>-1)||i.disableDayFn&&i.disableDayFn(k),x=!!h(this._d)&&c(k,this._d),C=c(k,a),N=w<o||w>=s+o;l.push(_(w-o+1,t,e,x,C,T,N)),7==++M&&(r.push((f=l,"<tr>"+(i.isRTL?f.reverse():f).join("")+"</tr>")),l=[],M=0)}return v(i,r)},isVisible:function(){return this._v},show:function(){var e,t,n;this._v||(e=this.el,t="is-hidden",e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,""),this._v=!0,this.draw(),this._o.bound&&(s(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e,t,n=this._v;!1!==n&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.cssText="",e=this.el,r(e,t="is-hidden")||(e.className=""===e.className?t:e.className+" "+t),this._v=!1,void 0!==n&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"change",this._onChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},b});